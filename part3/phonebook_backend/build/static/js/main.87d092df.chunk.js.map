{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/App.js","index.js"],"names":["Filter","nameFilter","handleNameFilter","value","onChange","PersonForm","props","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","listStyle","paddingLeft","Persons","persons","handlePersonDelete","style","filter","person","name","match","RegExp","map","number","onClick","baseUrl","services","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","put","Notification","notification","infoNotificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","messageTypeStyle","info","error","message","App","useState","setPersons","setNewName","setNewNumber","setNameFilter","setNotification","useEffect","personService","initialPersons","triggerNotification","setTimeout","nameFilterProps","event","target","personFormProps","preventDefault","personObject","some","existingPerson","confirmMessage","window","confirm","returnedPerson","concat","personsProps","p","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.87d092df.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ nameFilter, handleNameFilter }) => {\n  return (\n    <div>\n      filter shown with: <input\n        value={nameFilter}\n        onChange={handleNameFilter}\n      />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => {\n  const { addPerson, newName, handleNameChange, newNumber, handleNumberChange } = props\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        number: <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst listStyle = {\n  listStyle: 'none',\n  paddingLeft: 0\n}\n\nconst Persons = ({ persons, nameFilter, handlePersonDelete }) => {\n  return (\n    <ul style={listStyle}>\n    {persons.filter(person => person.name.match(new RegExp(nameFilter, 'gi')))\n      .map(person =>\n        <li key={person.name}>\n          {person.name} {person.number}\n          <button onClick={() => handlePersonDelete(person)}>delete</button>\n        </li>\n      )\n    }\n    </ul>\n  )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\n// Delete has empty response.data\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`)\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst services = { getAll, create, remove, update }\n\nexport default services\n","import React from 'react'\n\nconst Notification = ({ notification }) => {\n  const infoNotificationStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  const errorNotificationStyle = {...infoNotificationStyle, color: 'red'}\n\n  const messageTypeStyle = {\n    info: infoNotificationStyle,\n    error: errorNotificationStyle\n  }\n\n  if (notification.message === null) {\n    return null\n  }\n\n  return (\n    <div style={messageTypeStyle[notification.type]}>\n      {notification.message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport personService from '../services/persons'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNameFilter] = useState('')\n  const [notification, setNotification] = useState({message: null, type: null})\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const triggerNotification = (message, type) => {\n    setNotification({message: message, type: type})\n    setTimeout(() => {\n      setNotification({message: null})\n    }, 2000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    const personExists = persons.some(person => person.name === personObject.name)\n\n    if (personExists) {\n      const existingPerson = persons.filter(person => person.name === personObject.name)[0]\n      const confirmMessage = `${existingPerson.name} is already added to phonebook, replace the old number with a new one?`\n      const confirmChange = window.confirm(confirmMessage)\n\n      if (confirmChange) {\n        personService.update(existingPerson.id, personObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== existingPerson.id ? person : returnedPerson))\n          triggerNotification(`Changed ${returnedPerson.name}'s number`, 'info')\n        })\n      }\n    }\n    else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          triggerNotification(`Added ${returnedPerson.name}`, 'info')\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleNameFilter = (event) => setNameFilter(event.target.value)\n\n  const handlePersonDelete = (person) => {\n    const confirmDelete = window.confirm(`Delete ${person.name}`)\n    if (confirmDelete) personService\n      .remove(person.id)\n      .then(() => {\n        setPersons(persons.filter(p => p.id !== person.id))\n      })\n      .catch(() => {\n        triggerNotification(`Information of ${person.name} has already been removed from the server`, 'error')\n        setPersons(persons.filter(p => p.id !== person.id))\n      })\n  }\n\n  const nameFilterProps = {\n    nameFilter,\n    handleNameFilter\n  }\n\n  const personFormProps = {\n    addPerson,\n    newName,\n    handleNameChange,\n    newNumber,\n    handleNumberChange\n  }\n\n  const personsProps = {\n    persons,\n    nameFilter,\n    handlePersonDelete\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter {...nameFilterProps} />\n      <h3>Add a new</h3>\n      <PersonForm  {...personFormProps}/>\n      <h3>Numbers</h3>\n      <Persons  {...personsProps}/>\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom';\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}